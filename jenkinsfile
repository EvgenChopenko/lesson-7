pipeline {
    agent { 
        label 'azure'
        }
    options {
        buildDiscarder(logRotator(numToKeepStr: '10', artifactNumToKeepStr: '10'))
        timestamps()
        }
    stages{ 
        stage("Docker Build"){
            agent any
            steps{sh 'sudo docker build . nginx_levelup'
        }
    }
        stage ("Start Container"){
            agent any
            steps{sh 'sudo docker run -p 8080:8080 -d nginx_levelup'
        }
    }
} 
}
